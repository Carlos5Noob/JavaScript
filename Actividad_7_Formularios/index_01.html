<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 1</title>
</head>
<body>
    
    <form id="formulario" method="post">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre">
        <label for="correo">Correo</label>
        <input type="text" id="correo" name="correo">
        <label for="contra">Contraseña</label>
        <input type="text" id="contra" name="contra">
        <label for="contra-repe">Repetir contraseña</label>
        <input type="text" id="contra-repe" name="contra-repe">
        <label id="operacion" for="suma">¿Cuánto es?</label>
        <input type="number" id="suma" name="suma" required>
        
        <button type="submit">Crear cuenta</button>
    </form>

    <script>
        function validaNombre(nombre) {
            return /^\s*\S+.*$/.test(nombre);
        }

        function validaCorreo(correo) {
            return /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(correo);
        }

        function validaContraseña(contraseña) {
            return /^([a-zA-Z0-9]\d*){8}$/.test(contraseña);
        }

    
        function mostrarOperacion() {
            let num1 = Math.floor(Math.random() * 10); 
            let num2 = Math.floor(Math.random() * 10); 
            let resultado = num1 + num2;
            let operacion = `${num1} + ${num2}`;
            
   
            document.getElementById('operacion').innerHTML = `¿Cuánto es? ${operacion} = ?`;

       
            return resultado;
        }

    
        document.getElementById("formulario").addEventListener("submit", function(event){
            event.preventDefault(); 

            let nombre = document.getElementById("nombre").value.trim();
            let correo = document.getElementById("correo").value.trim();
            let contraseña = document.getElementById("contra").value.trim();
            let contraRepe = document.getElementById('contra-repe').value.trim();
            
       
            let resultado = mostrarOperacion();

            let suma = parseInt(document.getElementById('suma').value.trim());

       
            if (!validaNombre(nombre)) {
                alert("Nombre incorrecto.");
            } else if (!validaCorreo(correo)) {
                alert("Correo inválido.");
            } else if (!validaContraseña(contraseña)) {
                alert("Contraseña inválida.");
            } else if (contraRepe !== contraseña) {
                alert("Las contraseñas no coinciden.");
            } else if (suma !== resultado) {
                alert("La suma no es correcta.");
            } else {
             
                document.getElementById("formulario").submit();
            }
        });

      
        mostrarOperacion();

    </script>

</body>
</html>
